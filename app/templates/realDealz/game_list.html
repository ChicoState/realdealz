{% extends "search.html" %}
{% block content %}

<style>
  .blue {
    color: blue;
  }

  li {
    font-size: 18px;
  }

  table {
    table-layout: fixed;  
  }

  th.id, td.id {
    width: 50px;
  }  

  th.name, td.name {
    width: 400px;
  }

  th.price, td.price {
    width: 100px;
  }

  th.developer, td.developer {
    width: 800px;
  }

  th, td {
    word-wrap: break-word;
  }

</style>



<h1>Deals List</h1>
<div class="buttonoverlay">
  <form method="post">
    {% csrf_token %}
    <label for="filtered_price" style="width: 110px;">Maximum Cost:</label>
    <input type="text" name="filtered_price" id="filtered_price" style="width: 50px;">
    <input class="blue" type="submit" value="Filter">
  </form>
  <form method="post">
    {% csrf_token %}
    <label for="filtered_id" style="width: 110px;">ID:</label>
    <input type="text" name="filtered_id" id="filtered_id" style="width: 50px;">
    <input class="blue" type="submit" value="Filter">
  </form>  
  <form method="post">
    {% csrf_token %}
    <label for="filtered_developer" style="width: 110px;">Developer:</label>
    <br>
    <input type="text" name="filtered_developer" id="filtered_developer" style="width: 160px;">
    <input class="blue" type="submit" value="Filter">
  </form>       
  <br>
  <form method="post">
    {% csrf_token %}    
    <button class="blue" type="submit" name="highest_price" value="highest_price" style="width: 110px;">Highest Price</button>
  </form>
  <br>
  <form method="post">
    {% csrf_token %}    
    <button class="blue" type="submit" name="lowest_price" value="lowest_price" style="width: 110px;">Lowest Price</button>
  </form>   
  <br>
  <form method="post">
    {% csrf_token %}    
    <button class="blue" type="submit" name="clear" value="clear" style="width: 110px;">Clear Filters</button>
  </form>   
</div>

<table class="tableorganizer">
  <thead>
    <tr>
      <th>ID</th>
      <th>Game Title</th>
      <th>Price</th>
      <th>Developer</th>
    </tr>
  </thead>
  <tbody>
    {% if filtered_table %}
      {% for Game in filtered_table %}
      <tr>
        <td class="id">{{ Game.appid }}</td>        
        <td class="name"><a href="{{ Game.get_absolute_url }}">{{ Game.name }}</a></td>
        <td class="price">$ {{ Game.price }}</td>
        <td class="developer">{{ Game.developer }}</td>      
      </tr>
      {% endfor %}      
    {% else %}
      {% for Game in games %}
        <tr>
          <td class="id">{{ Game.appid }}</td>                  
          <td class="name"><a href="{{ Game.get_absolute_url }}">{{ Game.name }}</a></td>
          <td class="price">$ {{ Game.price }}</td>
          <td class="developer">{{ Game.developer }}</td>      
        </tr>
      {% endfor %}
    {% endif %}      
  </tbody>
</table>


<br>
<br>
<br> 
<br>
<br>
<br>
{% endblock %}

